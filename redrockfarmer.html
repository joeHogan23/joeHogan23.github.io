<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:fb="http://ogp.me/ns/fb#"
   lang="en">
   <html>
      <head>
         <meta charset="utf-8">
         <title>Joseph Sierejko - Programmer</title>

          
                              <link rel="stylesheet" type="text/css" href="/css/css/bootstrap.css"/>
          
          <!--  EXTENSION URLS -->
          <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/prettify.css"></script>
          <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>

          <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=cpp&amp;"></script>
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
          <script src="http://code.jquery.com/color/jquery.color-2.1.2.min.js"></script>
          <!-- //EXTENSION URLS -->

          <!-- GOOGLE FONT LINK -->
          <link href="https://fonts.googleapis.com/css2?family=Average+Sans&family=Baloo+2&family=Baloo+Chettan+2&family=Montserrat&family=Raleway&display=swap" rel="stylesheet">
          <!-- //GOOGLE FONT LINK -->
          <!-- //GOOGLE FONT LINK -->


          <!-- STYLESHEETS -->

          <link rel="stylesheet" type="text/css" href="css/code-style.css"/>
          <link rel="stylesheet" type="text/css" href="css/shared-style.css"/>
          <link rel="stylesheet" type="text/css" href="css/project-style.css"/>

          <!-- //STYLESHEETS -->
          
          <!-- JAVASCRIPT -->
          <script type="text/javascript" src="collapse-jquery.js"></script>
          <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>          <script type="text/javascript" src="js/shared.js"></script>
          <!-- //JAVASCRIPT -->
          
      </head>
       
    
               <div class = "button-container">

    <nav class = "navbar-nav">                 
                <div class = "name" id = "name"><p>Joseph Sierejko</p></div> 
                <button id="hamburger-button" onclick="openNav()">☰</button>
                <div id = "button-menu">
                    <button class = "nav-item" id = "project-main-button" data-target-element ="#project-header"><img id="project-img" src="images/project_png.png"/>Projects</button>
                    <button class = "nav-item" type = "button" id = "design-main-button" data-target-element = "#design-header"><img id="contact-img" src="images/graphic_design_png.png"/>Graphic Design</button>
                    <button class = "nav-item" type = "button" id = "about-main-button" data-target-element ="#about-header"><img id="about-img" src="images/about_png.png"/>About</button>
                    <button class = "nav-item" type = "button" id = "contact-main-button" data-target-element ="#contact-header" ><img id="contact-img" src="images/contact_png.png"/>Contact</button>
                    <button class = "nav-item" type = "button" id = "resume-main-button" ><img id="about-img" src="images/resume_png.png"/>Resume</button>
                </div>
    </nav>
                       </div>
                          
    <div id="sidebar-menu" class="sidebar">                       
        <div id="sidebar-header"></div>
        <a href="javascript:void(0)" class="close-button" onclick="closeNav()">×</a>
                <a href="#" type = "button" class ="sidebar-item" id = "project-dropdown-button" data-target-element ="#project-header" onclick="closeNav()">Projects</a>       
                <a href="#" type = "button" class = "sidebar-item" id = "design-dropdown-button" data-target-element ="#design-header" onclick="closeNav()">Graphic Design</a>
        <a href="#" type = "button" class = "sidebar-item" id = "about-dropdown-button" data-target-element ="#about-header" onclick="closeNav()">About</a>
                               
        <a href="#" type = "button" class = "sidebar-item" id = "contact-dropdown-button" data-target-element ="#contact-header" onclick="closeNav()">Contact</a>
        <a href="#" type = "button" class = "sidebar-item" id = "resume-dropdown-button">Resume</a>
    </div>      
      <body>
          
         <div id="redrockfarmer-background" class="background"></div>
         <div>
          <div class="container"  id="container">
            <div class ="row">
               <div class ="col-xs-12 col-sm-12 col-md-12">
                  <div class = "header">
                     <div id = "title">
                        Red Rock Farmer
                     </div>
                      <span  class="overview-wrapper">
                         <table>
                            <tbody>
                               <tr class = "header-content">
                                  <td><b>roles</b></td>
                                  <td>Lead Programmer &bull; 2D Artist  &bull; UI</td>
                               </tr>
                               <tr>
                                  <td><b>software</b></td>
                                  <td> MonoGame &bull; Unity Engine &bull; Adobe Photoshop &bull;
                                     Visual Studio
                                  </td>
                               </tr>
                               <tr class = "header-content">
                                  <td><b>languages</b></td>
                                  <td> C# &bull; XML</td>
                               </tr>
                               <tr class = "header-content">
                                  <td><b>team size</b></td>
                                  <td><img src ="images/teammember_icon.png"></td>
                               </tr>
                            </tbody>
                         </table>
                      </span>
                  </div>
                  <div class ="project-content-container">
                     <div class ="col">
                        <div class = "row content-wrapper project-description"><div class="content justify pad btm-10"><b>Red Rock Farmer</b> is a farming RPG where you are a part of the first group of colonies on Mars, with the goal to make the planet habitable, recruit new neighbors as you expand and build out a farm from the red soil. Initially, I built it for submission for my 10 week Senior Project during my Associate's Degree. It was first built using Unity, but I later ported it to monogame simply because I felt more comfortable programming my own tools purely in code. Though there are some distinct differences at the moment, I was able to redesign the code using the Monogame/XNA extension in 3 weeks. part of it due to 2d assets being finished. Functionally it plays the same, but improvements were made on a trailing camera, and I wrote UI scripts to handle screen and world space canvases, which were more tailored to my needs.</div>
                            <div class ="content justify pad btm-10">
                                As the project is temporarily on hold, there are a plenty of iterations that need to be made, and a few placeholder sprites that need to be swapped out. All this to say, this is still in a prototype state.
                            </div>
                         <div class="row video-container">
                           <iframe width="560" height src="https://www.youtube.com/embed/4R5RiLqcLrg" frameborder="0"  allowfullscreen></iframe>
                        </div>
                         <div style="padding-bottom: 15px;"></div>
                            
                            <!--GAME ENGINE CONTENT-->
                            <button class="collapse-button" id="gameengine-button" type="button" data-toggle="collapse" data-target="#gameengine-collapse"
            aria-expanded="true" aria-controls="gameengine-collapse">
                                 <div class ="collapse-button-content"> Building a Level Editor in C# and MonoGame<img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/>
                                </div>
                             </button>
                           <div class="collapse collapse-content" id="gameengine-collapse">
                               <div class ="content justify pad vt-10">I didn't originally have a goal of building a level editor in MonoGame, but after making a few iterations, using a 2D array with Enums to label tiletypes, determining collision via child classes, etc, it eventually made sense to make a 2D engine using window forms. The Level Editor requires 2 VS projects; LevelEditor and TileEngine.</div>
                               <div class = "content pad btm-5">
                                   Here is an eagle view of the Editor's Interface:
                               </div>
                               <div class="content">
                               <img src="images/red-rock-farmer-editor-breakdown.png">
                               </div>
                               <div class="content font-36 pad top-10 btm-5">The Level Editor</div>
                              <div class ="content justify pad btm-10">
                               <ul>
                                   <li>
                                       The Level Editor is the series of tools that allow using the Tile Engine to "paint" different tiles onto a Map.
                                   </li>
                                   <li>The interface is one part Window Form(s) and one part MonoGame executable.
                                   <ul>
                                       <li>
                                           Window forms hold all the user controls, sprite selection, imported spritesheets, etc.
                                       </li>
                                       <li>The Tile Engine itself is what makes use of the Editor tools (it handles input), but the Map Editor Window Form takes care of setting tiles, which is sent to the Tile Engine to edit the tiles.</li>
                                       </ul>
                                   </li>
                                  </ul>
                                  <ul>
                                       <li>
                                           <b>User Settings</b> are also stored after most actions, including importing sprite sheets, adding new Code Values to mark tiles, etc.
                                       </li>
                                       <li>
                                           Most of these actions, saving and loading, importing, are done through additional window forms and dialog windows.
                                       </li>

                                   </ul>
                               </div>
                                                                 
                               <div class="content font-36 pad btm-5">The Tile Engine</div>
                              <div class ="content pad btm-10">
                                   <ul>
                                   <li>
                                       The Tile Engine is the bridge between the Level Construction and the Projects that use it.

                                   </li>
                                       <li>
                                            The Tile Engine handles all Saving and Loading the Map Files in both the Level Editor and any Projects that use the Map that were generated.
                                             <ul>
                                                 <li>
                                                     Maps are Saved as .MAP and sent to the Content folder for use.
                                                 </li>
                                                 <li>
                                                     They are also are Loaded by their File names.
                                                 </li>
                                           </ul>
                                           
                                       </li>
                                  </ul>
                                  
                                  <div class ="content justify pad btm-10">
                                  <ul>
                                   <li> 
                                       Everything that is defined in the Map Editor gets funneled into Tiles on a TileMap class.
                                       <ul><li>
                                           Through the use of overloaded SetTile( . . . ) methods, I can set update tile settings on the fly. The point of this is to change individual settings without creating an entirely <i>new</i> Tile class. Some Uses include
                                           <ul>
                                               <li>
                                                   Update Collision settings
                                               </li>
                                               <li>
                                                   Change a Sprite on a particular layer
                                               </li>
                                               <li>
                                                   Set Tile Sprite from static to animated
                                               </li>
                                               <li>
                                                   Tag a tile using Code Value. This is to mark tiles for purposes in the projects. This is analagous to Layers in Unity, or something similar to Collision Channels on Actors in Unreal.
                                               </li>
                                           </ul>
                                           
                                           </li>
                                       </ul>
                                   </li>

                                  </ul>
                                  </div>
                               </div>
                            </div>
                            
                            <!--// END GAME ENGINE CONTENT-->
                            
                            <!--GAMEPLAY CONTENT-->
                            <button class="collapse-button" id="gameplay-button" type="button" data-toggle="collapse" data-target="#gameplay-collapse"
            aria-expanded="true" aria-controls="gameplay-collapse">
                                 <div class ="collapse-button-content">Gameplay Loop and Player Mechanics<img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                             </button>
                           <div class="collapse collapse-content" id="gameplay-collapse">
                               <div class ="content pad top-10">
                                   Most of the gameplay mechanics in this Prototype layout the entire gameplay loop. There are plenty of missing factors to be implemented to round out the experience, but at its core, it is a farming RPG. It has a defined gameplay loop: <i>Buy Seeds; Plant; Sleep; Harvest; Repeat</i>
                               </div>
                               </div>
                            <!--//END GAMEPLAY CONTENT-->
                                                      
                            <!--SAVE AND LOAD CONTENT-->
                            <button class="collapse-button" id="ui-button" type="button" data-toggle="collapse" data-target="#ui-collapse"
            aria-expanded="true" aria-controls="ui-collapse">
                                 <div class ="collapse-button-content">UI Management and Components<img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                             </button>
                           <div class="collapse collapse-content" id="ui-collapse">
                               <div class ="content pad justify vt-10">One of the main components I wanted to focus on early was developing a clean UI Handling System, that allowed a "fire and forget" approach to managing them. To start, I built a hierarchy of classes, inheriting functionality for different purposes. I further built upon the features of the code base as I iterated on the Red Rock Farmer. After the game was in a good place, I untangled UI elements scattered throughout the project with a UIManager class, which handles drawing, updating, adding, and removing elements. </div>
                               
                               <div class = "content pad top-10 btm-5">This is an example of a 1920 by 1080 game, where the default inventory anchor is set to 50% on the x axis and 80% on the y. regardless of resolution, the position stays the same. 
                               </div>
                               <div class="content"><img src="images/redrockfarmer-ui-1920-1080.PNG">
                               </div>
                               
                                                              <div class = "content pad justify top-20 btm-5">By contrast, a square resolution. The UI is still at screen position (.5, .8), relative to the 1:1 screen ratio
                               </div>
                               <div class="content pad btm-20"><img style="width: 50%; margin-left: 25%;" src="images/redrockfarmer-ui-1000-1000.PNG"></div>
                               <button class="collapse-button-inner" data-toggle="collapse" href="#codemap-slot-collapse" role="button" aria-expanded="true" aria-controls="codemap-slot-collapse">
                                    <div class="collapse-button-content">
                                        Code Map: UIElement <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
          </button>
                               <div class="collapse collapse-content-inner" id="codemap-slot-collapse">
                                   <div class="content pad top-10 btm-5">
                                   Slot is a custom UI element that inherits from UISprite. UISprite is the Image handling class, inheriting from the base class UIElement, which doesn't handle any drawing, but is an abstract class that manages positioning in Screen and </div>
                                                  <div class="content pad btm-10">
                               <img src="images/redrockfarmer-slot-codemap.PNG">
                               </div>
                               </div>
                               <button class="collapse-button-inner" data-toggle="collapse" href="#inventory-collapse" role="button" aria-expanded="true" aria-controls="inventory-collapse">
                                    <div class="collapse-button-content">
                                        Code: Inventory UI Handling <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
          </button>
              <div class ="content pad btm-5"></div>
              <div class="collapse collapse-content-inner" id="inventory-collapse">
                  <div class ="content inner pad vt-10">
                      This is an implementation of the UI sprites within the Inventory class. There are several ways to move the Slots via their rows and cols, including setting anchors using a percent value,  positioning in pixels, and positioning in pixels relative to another object. This is still in development, this current code is going to be refactored into the UIElement class, to position any element by screen percent or relative to another object.
                  </div>
                  
                  <div class ="content inner pad top-5 btm-5">
                      Here are the implementations and functions on line 238 and 251 that use them.
                  </div>
                               
                                              <pre class="prettyprint lang-cs linenums:125">static void SetSlotGrid(int rowCount, int colCount)
{
    RowCount = rowCount;
    ColCount = colCount;
}

/// &lt;summary&gt;
/// Get individual slot X position in Screen Space
/// &lt;/summary&gt;
/// &lt;param name="col"&gt;col of slot in array&lt;/param&gt;
/// &lt;param name="screenSpaceAnchorX"&gt;X position of slot as percent (0.0 - 1.0)&lt;/param&gt;
/// &lt;returns&gt;X Position in Screen space as pixels&lt;/returns&gt;
public static int GetSlotPositionX(int col, float screenSpaceAnchorX = 0f)
{
    int screenSpaceX = (int)(Camera.ViewPortWidth * screenSpaceAnchorX);
    int offset = col * SlotWidth - (ColCount * SlotWidth) / 2;
    return screenSpaceX + offset;
}

/// &lt;summary&gt;
/// Set slot position relative to another UI Element or Screen Space position
/// &lt;/summary&gt;
/// &lt;param name="col"&gt;col of slot in array&lt;/param&gt;
/// &lt;param name="relativeTo">Offset relative to another Screen space position&lt;/param&gt;
/// &lt;returns>X Position in Screen space as pixels&lt;/returns>
public static int GetSlotRelativePositionX(int col, int relativeTo) =&gt; 
    GetSlotPositionX(col) + relativeTo;

/// &lt;summary>
/// Set slot position relative to another Screen Space position, with margins between cols
/// &lt;/summary>
/// &lt;param name="col">col of slot in array&lt;/param>
/// &lt;param name="relativeTo">Offset relative to another Screen space position&lt;/param>
/// &lt;param name="spaceBetweenCols">Offset relative to another Screen space position&lt;/param>
/// &lt;returns>X Position in Screen space as pixels&lt;/returns>
public static int GetSlotRelativePositionX(int col, int relativeTo, int spaceBetweenCols)
{
    int relativeSlotPositionX = GetSlotRelativePositionX(col, relativeTo);
    int spacing = (spaceBetweenCols * (col % ColCount)) - spaceBetweenCols;

    return relativeSlotPositionX + spacing;
}

/// &lt;summary&gt;
/// Get individual Slot Y position in Screen Space
/// &lt;/summary&gt;
/// param name="row">Row of slot in array&lt;/param>
/// &lt;param name="screenSpaceAnchorY">Y position of slot as percent (0.0 - 1.0)&lt;/param>
/// &lt;returns>Slot Y Position in Screen space as pixels&lt;/returns>
public static int GetSlotPositionY(int row, float screenSpaceAnchorY = 0f)
{
    int screenSpaceY = (int)(Camera.ViewPortHeight * screenSpaceAnchorY);
    int offset = row * SlotHeight - (RowCount * SlotHeight) / 2;

    return screenSpaceY + offset;
}

/// &lt;summary>
/// Get Slot Y Position relative to another Screen Space Position
/// &lt;/summary>
/// &lt;param name="row">Row of Slot in array&lt;/param>
/// &lt;param name="relativeTo">Offset relative to another Screen Space Position&lt;/param>
/// &lt;returns>X Position in Screen space as pixels&lt;/returns>
public static int GetSlotRelativePositionY(int row, int relativeTo) => GetSlotPositionY(row) + relativeTo;

/// &lt;summary>
/// Get Slot Y Position relative to another Screen Space Position, with space between Rows
/// &lt;/summary>
/// &lt;param name="row">col of slot in array&lt;/param>
/// &lt;param name="relativeTo">Offset relative to another Screen space position&lt;/param>
/// &lt;param name="spaceBetweenRows">Offset relative to another Screen space position&lt;/param>
/// &lt;returns>X Position in Screen space as pixels&lt;/returns>
public static int GetSlotRelativePositionY(int row, int relativeTo, int spaceBetweenRows)
{
    int relativeSlotPositionY = GetSlotRelativePositionY(row, relativeTo);
    int spacing = (spaceBetweenRows * (row % RowCount)) - spaceBetweenRows;

    return relativeSlotPositionY + spacing;
}

//Assign slot positions based on anchor points
public static void SetSlotPosition(
     int col, int row, float screenSpaceAnchorX = 0f, float screenSpaceAnchorY = 0f)
{
    Slot currentSlot = GetSlot(row * ColCount + col);   //Get slot out of list

    int x = GetSlotPositionX(col, screenSpaceAnchorX);
    int y = GetSlotPositionY(row, screenSpaceAnchorY);

    currentSlot.SetPosition(x, y);
}

//Assign Slot Position using anchor point (center position)
public static void SetSlotRelativePosition(int col, int row, int relativeX, int relativeY)
{
    Slot currentSlot = GetSlot(row * ColCount + col);   //Get slot out of list

    int x = GetSlotRelativePositionX(col, relativeX);
    int y = GetSlotRelativePositionY(row, relativeY);

    currentSlot.SetPosition(x, y);
}

//Assign Slot Position relative to a Screen Space Position
public static void SetSlotRelativePosition(int col, int row, int relativeX, int relativeY, int spaceBetweenCols, int spaceBetweenRows)
{
    Slot currentSlot = GetSlot(row * ColCount + col);   //Get slot out of list
    int x = GetSlotRelativePositionX(col, relativeX, spaceBetweenCols);
    int y = GetSlotRelativePositionY(row, relativeY, spaceBetweenRows);

    currentSlot.SetPosition(x, y);
}

public static void SetInventoryLayout(int rows, int cols,
    float screenSpaceAnchorX, float screenSpaceAnchorY)
{
    SetSlotGrid(rows, cols);

    for(int i = 0; i &lt; Slots.Count; i++)
    {
        int row = i / cols, 
            col = i % cols;
        SetSlotPosition(col, row, screenSpaceAnchorX, screenSpaceAnchorY);
    }
}

public static void SetInventoryLayout(int rows, int cols, int relativeX, int relativeY, int spaceBetweenCols = 0, int spaceBetweenRows= 0)
{
    SetSlotGrid(rows, cols);

    for (int i = 0; i &lt; Slots.Count; i++)
    {
        int row = i / cols,
            col = i % cols;

        SetSlotRelativePosition(col, row, relativeX, relativeY, spaceBetweenCols, spaceBetweenRows);
    }
}
                                              </pre>
                               </div>
                               </div>
                            <!--//END SAVE AND LOAD CONTENT-->
                            
                            <!--PIXEL ART CONTENT-->
                            <button class="collapse-button" id="pixelart-button" type="button" data-toggle="collapse" data-target="#pixelart-collapse"
            aria-expanded="true" aria-controls="pixelart-collapse">
                                 <div class ="collapse-button-content">Graphic Design and Sprite Sheets<img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                             </button>
                           <div class="collapse collapse-content" id="pixelart-collapse">
                               <div class ="content pad vt-10"></div></div>
                            <!--//END PIXEL ART CONTENT-->
                            
                            <!--PORTING CONTENT-->
                            <button class="collapse-button" id="porting-button" type="button" data-toggle="collapse" data-target="#porting-collapse"
            aria-expanded="true" aria-controls="level-design-collapse">
                                 <div class ="collapse-button-content"> Porting from Unity Engine To MonoGame<img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                             </button>
                           
                            <div class="collapse collapse-content" id="porting-collapse">
                                <div class ="content justify pad top-10">
                                I won't go too in-depth regarding version comparisons, but there are some key differences. With the addition of my Tile Engine Editor, which was built in C# and used to construct the levels, I was able to dynamically update my map, without being tethered to a 2D array. On the flipside, without built-in components like materials, 3D lights, there are  some missing elements in the MonoGame port. For example, I have a bump map in the Unity version, which was a nice visual addition to the game. This is something that will require building in the MonoGame version. 
                                </div><div class="content font-36 pad btm-10">Porting to Monogame</div>
                                <div class="content justify pad btm-">
                                    Building in Monogame, despite having to write all of your own tools, has been a much quicker environment to get a build up and running. Prior to building the Level Editor, I got my first build of the core mechanics, and the art assets, in the game. I have a UI engine that handles placing UI in world and screen space. Screen space bases off Top-Left, and percentage of total ViewPort size. I found it preferable to the Canvas system in Unity.
                                </div>
                            </div>
                            
                            <!--//END PORTING CONTENT-->
                            
                            <!--FUTURE CONTENT CONTENT-->
                            <button class="collapse-button" id="future-button" type="button" data-toggle="collapse" data-target="#future-collapse"
            aria-expanded="true" aria-controls="future-collapse">
                                 <div class ="collapse-button-content">Content in the Future<img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                             </button>
                           <div class="collapse collapse-content" id="future-collapse">
                               <div class ="content pad vt-10"></div></div>
                            <!--//END FUTURE CONTENT CONTENT-->
                         </div>
                      </div>         
                   </div>
                </div>
              </div>
             </div>
          </div>
             </body>
      <footer>
         <p>&copy; 2020 Joseph M Sierejko</p>
         <p><i>Website Designed and Developed by Me</i></p>
      </footer>
   </html>