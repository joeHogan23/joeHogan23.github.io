<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:fb="http://ogp.me/ns/fb#"
   lang="en">
   <html>
      <head>
         <meta charset="utf-8">
         <title>Joseph Sierejko - Programmer</title>

        <link rel="stylesheet" type="text/css" href="css/code-style.css"/>
          <link rel="stylesheet" type="text/css" href="css/shared-style.css"/>
          <link rel="stylesheet" type="text/css" href="css/project-style.css"/>

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css"/>

          <!--  EXTENSION URLS -->
          <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/prettify.css"></script>
          <script
  src="https://code.jquery.com/jquery-3.5.1.js"
  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
  crossorigin="anonymous"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>

          <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=cpp&amp;"></script>
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
          <script src="http://code.jquery.com/color/jquery.color-2.1.2.min.js"></script>
          <!-- //EXTENSION URLS -->

          <!-- GOOGLE FONT LINK -->
          <link href="https://fonts.googleapis.com/css2?family=Average+Sans&family=Baloo+2&family=Baloo+Chettan+2&family=Montserrat&family=Raleway&display=swap" rel="stylesheet">
          <!-- //GOOGLE FONT LINK -->
          <!-- //GOOGLE FONT LINK -->


          <!-- STYLESHEETS -->

          <link rel="stylesheet" type="text/css" href="css/code-style.css"/>
          <link rel="stylesheet" type="text/css" href="css/shared-style.css"/>
          <link rel="stylesheet" type="text/css" href="css/project-style.css"/>
          <link rel="stylesheet" type="text/css" href="/css/bootstrap-xl.css"/>

          <!-- //STYLESHEETS -->
          
          <!-- JAVASCRIPT -->
          <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>         
          <script type="text/javascript" src="js/shared.js"></script>
          <!-- //JAVASCRIPT -->
          
      </head>
       
    
    
                          
    <div id="sidebar-menu" class="sidebar">                       
        <div id="sidebar-header"></div>
        <a href="javascript:void(0)" class="close-button" onclick="closeNav()">Ã—</a>
                <a href="#" type = "button" class ="sidebar-item" id = "project-dropdown-button" data-target-element ="#project-header" onclick="closeNav()">Projects</a>       
                <a href="#" type = "button" class = "sidebar-item" id = "design-dropdown-button" data-target-element ="#design-header" onclick="closeNav()">Graphic Design</a>
        <a href="#" type = "button" class = "sidebar-item" id = "about-dropdown-button" data-target-element ="#about-header" onclick="closeNav()">About</a>
                               
        <a href="#" type = "button" class = "sidebar-item" id = "contact-dropdown-button" data-target-element ="#contact-header" onclick="closeNav()">Contact</a>
        <a href="#" type = "button" class = "sidebar-item" id = "resume-dropdown-button">Resume</a>
    </div>      
      <body>
          
         <div id="aberrant-background" class="background"></div>
         <div>
          <div class="container-md"  id="container">
            <div class ="row">
               <div class ="col-xs-12 col-sm-12 col-md-12">
                  <div class = "header">
                     <div id = "title">
                        Aberrant
                     </div>
                      <span  class="overview-wrapper">
                         <table>
                            <tbody>
                               <tr class = "header-content">
                                  <td><b>roles</b></td>
                                  <td>Lead Programmer &bull; Art Director &bull; Level Design &bull; UI</td>
                               </tr>
                               <tr>
                                  <td><b>software</b></td>
                                  <td> Unity Engine &bull; Adobe Photoshop &bull;
                                     Visual Studio 2015
                                  </td>
                               </tr>
                               <tr class = "header-content">
                                  <td><b>languages</b></td>
                                  <td> C# &bull; HLSL &bull; XML</td>
                               </tr>
                               <tr class = "header-content">
                                  <td><b>team size</b></td>
                                  <td><img src ="images/teammember_icon.png"><img src ="images/teammember_icon.png"><img src ="images/teammember_icon.png"></td>
                               </tr>
                            </tbody>
                         </table>
                      </span>
                  </div>
                  <div class ="project-content-container">
                     <div class ="col">
                        <div class = "row content-wrapper project-description"><div class="content justify pad btm-20"><b>Aberrant</b> is a Survival Horror game currently in development. It is being developed by 2 3D Modelers and myself. It was originally 20 week project, and is now being expanded upon. My priority in this development is handling the Programming end, as well as and providing design decisions as Art Director. In addition to that, I designed the 2D assets for UI, created first person animations/cinematics in Unity, and collaborated with the team on level design. I also had the pleasure of editing the video below <i>(We were a small team)</i>.</div>
                         <div class="row video-container">
                           <iframe width="560" height src="https://www.youtube.com/embed/8is5NP801HY" frameborder="0"  allowfullscreen></iframe>
                        </div>
                         <div style="padding-bottom: 15px;"></div>
                         <!-- ABERRANT ACCORDION -->
                         
                         <div class="accordion" id="project-accordion">
                             
                                                          <!-- AI BUTTON -->                             
                             
                             <button class="collapse-button" id="ai-button" type="button" data-toggle="collapse" data-target="#ai-collapse"
            aria-expanded="true" aria-controls="ai-collapse">
                                 <div class ="collapse-button-content"> AI Management, Enemies & A* Neural Network <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                             </button>
                             <!-- //AI BUTTON -->                         
                             <!-- AI CONTENT -->
                             <div class="collapse collapse-content" id="ai-collapse">
                                 <div class="content font-36 pad top-5">AI Pathfinding</div>
                                               <div class="content pad top-5">Of all the systems I designed and implemented for <b>Aberrant</b> , the most complex, layered component was the AI Systems. The most complicated of which was reactive pathfinding <!--Through numerous iterations, I was able to implement a lean FSM interface that allowed cross-compatibility between each type of enemy, creating child States to extend a class for more functionality than another class. I also created a waypoint system via an A* network, to give pseudo-random choice to AI pathfinding. Some features of this system include --> 
                                 </div>
                                 <div class="content pad top-10">
                                         <!--<li class= "content pad btm-5">
                                         Each enemy has its own behaviours.
                                             <ul type="circle"><li><b>The Echo</b> is a blind enemy that uses a sound event system to locate player via either rigidbody interactions, or player movement speed. This is a unique "Hunter" archetype. It catches you, you die.
                                         </li>
                                                 <li><b>The Aberrant</b> is the "Zombie" archetype enemy, and uses a combination of ray casting and vision angles to detect if player is in the angle of vision, unobstructed, and close enough to see.  </li>
                                                 <li>Gamma is an adversarial enemy that doesn't implement Patrol pathfinding, but just goes directly to the player. This enemy is </li>
                                             </ul></li>-->
                                        <li>AI Pathfinding is based off of Unity's Navigation Mesh as well as a pseudo-random waypoint network I developed.
                                         <ul type="circle">
                                            <li>Custom <b>A* Neural Network</b> uses a branching tile navigation system as destinations, providing limited, but controlled choice to AI Actors.
                                             </li>
                                             <li>
                                                 <b>Player location bias</b>  pulls enemy towards player over time <b><i>(organic, but forced, encounters)</i></b>.  
                                             </li>
                                             <li>Player choices interrupt AI pathfinding, shifting to another AI state.
                                             </li>
                                             <li>
                                             In addition to the network, I went over the game map and added tile costs to manipulate potential AI movement. <ul type="square">
                                                 <li>
                                                    Nav Agents prioritize pathfinding over collision, so adding costs also served to keep meshes far enough from walls, avoiding any clipping.  
                                                 </li>
                                                 </ul>
                                             </li>
                                             <!--W<li>
                                             AI has to account for locked doors, so I needed to add an addition layer to the AI pathfinder class that checked if:
                                                 <ul><li>
                                                     Pre-determine if Path is Complete <i>(Nav Mesh Obstacle is enabled when door is locked)</i></li><li>
                                                     Check if AI Actor will need to open a door every frame by checking progress to destination.
                                                     </li></ul>
                                             </li>-->
                                            </ul>
                                            <!--<li class= "content pad btm-5">
                                                AI takes advantage of a shared Finite State Machine, which uses a strategy pattern to autonomously switch states <b>based on environmental circumstances.</b>
                                                <ul type ="circle">

                                                    <li>
                                                    Enemies have transitional states to provide feedback to player. Each transition relays visual information via specific animations and sounds</li>
                                                </ul>-->
                                         </li>
                                     <div class = "content pad btm-10"><b>Here is a sort of brief summation about initializing and running a basic patrol routine</b>
                                         <ul><li>As AI Actors find new Paths, they calculate whether a path is viable <i>(locked doors, etc)</i> pre-generation
                                             .</li>
                                             <li>During patrol routine, AI Actor will check if next node in path crosses a closed door.<ul>
                                                 <li>
                                                     If the AI path comes across a door, it will run a standard interaction by passing a reference of itself to inform the door to inform what class type is trying to use the door.
                                                 </li><ul><li>If the door is locked, request a new path, based on any accessable nodes.</li>
                                                 <li>Else if the door is unlocked, call a Pause  on the Nav Agent speed, and when enemy is stopped, open door. After door animation is complete, tell the Nav Agent to continue moving. </li></ul></ul></li><li>The player interaction can cause events to pull the AI Actor off its routine, which results in different behaviour, depending on the enemy type.<ul><li>When the Enemy class loses sight or gets too far from Player, it will run a random local search on the Nav Mesh (random locations within a distance relative to its current location</li></ul></li></ul></div>
                                     <div class = "content pad btm-5">
                                         This is a representation of a basic patrol routine, without variables like the Player. The rendered line is the path, and the short line is the angle relative to the player. The line is used in conjunction with an angle to determine if player is in sight.
                                     </div>
                                     <div class = "content pad btm-20">
            <video muted autoplay loop>
                <source src="videos/aberrant-pathfinding-edited.mp4" type="video/mp4"/>
            </video>
                 </div>

                 <div class="content pad btm-5"> 
                     An example of cost values on floor tiles. The light blue is the built-in cost, and the purple is the added cost to give more control about how Nav Agents would get to a destination.
                                         </div>
                    <div class="content pad btm-20"><img src="images/aberrant_navmesh_1.PNG"/></div>
                                       <div class="content pad btm-5"> 
                     A hot-fix I implemented, because Collision is ignored in Nav Agents, is adding a higher cost to outer walls and corners, to avoid issues like meshes clipping through walls.  
                                         </div>
                    <div class="content pad btm-10"><img src="images/aberrant_navmesh_2.PNG"/></div> 
                                     <div class="content font-36">State Machines and AI Management</div>
                                 </div>
                                 <div class="content pad vt-5">
                                     One of the successes I had with the developing the Enemy AI was having a vast array of cross-compatable States, which implemented an <b><i>IEnemyState</i></b> interface. These states were then slotted into a <i><b>Finite State Machine (FSM)</b></i> class, which made use of the Strategy Pattern for hotswapping. 
                                 </div>
                                 <div class ="content">
                                    Throughout the development, where possible I minimized the Unity's built-in Update ticks, to allow more control in composite classes. To handle AI management, I passed control of updating the AI through an EnemyManager class. the EnemyManager was responsible for
                                     <div class="content pad top-10">
                                     <ul>
                                         <li>
                                            Updating all AI classes, checking that the Enemy was currently active <i>(Built and Awake)</i>
                                         </li>
                                         <li>Retains a reference to Player's position, lightly pushing AI to patrol near player over time. (Separating the Body and the AI Brain)</li>
                                         <li>
                                            Sending Sound events to all listening Enemies.
                                         <ul><li>
                                             To add to environmental interactions, enemies having the ability to listen for sound.
                                             </li>
                                             <li>EnemyManager has a delegate function that is called whenever 2 physics objects make contact.</li>
                                             <li>The magnitude total, based on it's mass and impact force, is sent to EnemyManager, which then broadcasts to all active Enemies. </li>
                                             <li>If the Enemy's hearing range, minus obstructions, collides with the sound radius, the Enemy updates to investigate.</li>
                                             <li>This is slightly more aggressive if the player moves too fast for too long while near the enemy. </li>
                                             </ul>
                                         </li></ul>
                                         
                                     </div>
                                 </div>
                                 
                                 <!--ENEMY MANAGER CODE-->
                                 <button class=" collapse-button " data-toggle="collapse" href="#enemy-manager-collapse" role="button" aria-expanded="true" aria-controls="enemy-manager-collapse">
                  <div class="collapse-button-content">
                Code: Enemy Manager <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                    </button>
                                 <div class="collapse collapse-content-inner" id="enemy-manager-collapse">
                    
                                     <div class="content pad vt-10">
                                         This is the class that manages the AI. It is shared in some other classes where needed, including getting a specific enemy group out of the enemy list. It calls each Enemy's <i>Run(PlayerController)</i> function for trickle down updating, lessening reliance on internal Update ticks
                                     </div>
<pre class="content-block prettyprint lang-cs linenums:1 code-snippet ">using System.Collections.Generic;
using UnityEngine;
using System.Linq;
using Entities.Player;
using Utilities;

namespace Entities.Enemies
{
    public class EnemyManager : MonoBehaviour
    {
        [SerializeField]
        internal PlayerController Controller;

        static List&lt;Enemy&gt; enemies = new List&lt;Enemy&gt;();

        public static void AddEnemy(Enemy e) =&gt; enemies.Add(e);
        public static void RemoveEnemy(Enemy e) =&gt; enemies.Remove(e);
   
        //Get Enemies of a type when player uses a type specific Ability
        public static List&lt;Enemy&gt; GetEnemiesOfType&lt;T&gt;()
        {
            var query = (from enemy in enemies
                         where enemy is T
                         select enemy).ToList();
            return query;
        }

        void Update()
        {
            foreach (Enemy enemy in enemies)
                //StateMachine has been built
                if (enemy.IsBuilt &amp;&amp; enemy.IsActive)    
                    enemy.Run(Controller); //Run AI
        }

        //Event Notification called from SoundObjectManager delegate function
        internal void NotifyOnObjectSoundEvent(GameObject soundObject, float impactForce)
        {
            foreach(Enemy enemy in enemies)
                if(enemy.IsBuilt == enemy.IsActive == true)
                    enemy.ListenForSound(soundObject, impactForce);
        }

        //Use player location information to pull enemy towards player over time
        internal void UpdateSearchMagnetism(GameObject soundObject, float impactForce)
        {
            foreach(Enemy enemy in enemies)
            {
                if (enemy.IsBuilt)
                {
                    enemy.ListenForSound(soundObject, impactForce);
                    Utils.GetEntityLocation(soundObject, 
                    enemy.LastKnownRoom, enemy.LastKnownTile);
                }
            }
        }
    }
}
                           </pre> <div class="content pad btm-10"></div> </div>  
                             <!--//ENEMY MANAGER CODE-->
                             
                             </div>
                             
                             <!-- //AI CONTENT -->    
                             
                             <!-- PLAYER COMPONENTS BUTTON -->
                             
                             <button class="collapse-button" id="player-components-button" type="button" data-toggle="collapse" data-target="#player-components"
            aria-expanded="true" aria-controls="player-components">
                                                   <div class="collapse-button-content"> Player Components <img class = "dropdown-icon" src="images/content_dropdown_triangle.png" id="player-components-dropdown-icon"/> </div>
                             </button>
                             
                             <!-- //PLAYER COMPONENTS BUTTON -->
                             <!-- PLAYER COMPONENTS COLLAPSE -->                             
                             <div id="player-components" class="collapse" aria-labelledby="player-components-button"
                                  data-parent="#player-components-button">
      <div class="card-body collapse-content">
          <div class ="collapse-content-wrapper">
          <!-- PLAYER COMPONENTS TEXT BLOCK -->
          
          <div class ="content pad vt-10">
          The First Person Controller and its components had a series of iterations over the course of development. 
          </div>                            
          <div class ="content pad top-5 btm-5">
                            One of the early additions was the lean and look-over-shoulder. After adding IK to the game, this took a backseat until I rebuilt the hierarchy and some code to have the camera float along with the body :</div>
          <div class = "content pad btm-10">
            <video muted autoplay loop>
                <source src="videos/lean-mechanic.mp4" type="video/mp4"/>
            </video>
          </div>
          <!-- //PLAYER COMPONENTS TEXT BLOCK -->

          <!-- PLAYER COMPONENTS CONTENT BLOCK -->
          <div class ="content-block">
              
              <!--PLAYER MOVEMENT CODE BUTTON-->
              <button class=" collapse-button" data-toggle="collapse" href="#player-movement-collapse" role="button" aria-expanded="true" aria-controls="player-movement-collapse">
                  <div class="collapse-button-content">
                Code: Movement <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
              </button>

              <!--//PLAYER MOVEMENT CODE BUTTON-->
              
              <div class="collapse collapse-content-inner" id="player-movement-collapse">
                  <div class ="content inner pad vt-10">
                      Below is a sample of code from PlayerController.cs. it has gone through  a series of updates upon adding Inverse Kinematics. One of my goals was to make the player's weighty movement a mechanic itself. I ended up separating the player camera from the body, creating a floating component, which acted as a rig, with the parent controlling the mechanics like leaning. It was a long process and a few rewrites to get the movement to feel right. Through playtesting, I was able to refine the values of look and move acceleration and speed. </div>
                  
                  <div class ="content inner pad vt-5">
                      Sample of Player Movement:
                  </div>
                  <!-- //PLAYER CONTROLLER CODE SAMPLE -->
                  <pre class="prettyprint lang-cs linenums:486">
              
//Turn player body based on camera orientation
internal void Turn()
{
    //Get Camera orientation, ignoring the Up/Down camera swivel
    Quaternion cameraOrientation2D = Quaternion.Euler(new Vector3(
                transform.eulerAngles.x,
                cameraParent.transform.eulerAngles.y,
                cameraParent.transform.eulerAngles.z));

    //Player's body rotation trails camera rotation
    transform.rotation = Quaternion.Lerp(transform.rotation, cameraOrientation2D, Time.deltaTime * 6f);
}

//Get angular difference from body.forward and camera.forward
float GetFacingAngularDifference()
{
    Vector3 currentPosition = transform.position,
            cameraTargetPosition = cameraTarget.position;
    
    //Remove Y factor to get 2D direction
    currentPosition.y = cameraTargetPosition.y = 0;
    
    //Get Unit Direction
    Vector3 direction = (cameraTargetPosition - currentPosition).normalized, 
    
    //Get Player's forward as 2D vector
    forward = new Vector3(transform.forward.x, 0, transform.forward.z);

    return Vector3.Angle(forward, direction);
}

//Move the player
internal void Move()
{
    //Get input from current input device
    InputModule.CheckInput(this);

    //Slow player down if leaning
    if (CamMovement.IsLeaning)
        Walk(leanSpeedPercent);
    else if (IsSprinting && CanSprint) //Currently Sprinting
    {
        timeSprinting += Time.deltaTime; 

        //Start sprint audio
        if (timeSprinting &gt; 1f)
            sprintAudio.volume += .01f;
        
        //Second Audio source ("Outtro") for sprint is still active
        if(endSprintAudio.volume &gt; 0)
            endSprintAudio.volume -= .05f;

        Sprint();   //Accelerates player to sprint speed
    }
    else
    {
        //Begin end of sprint audio
        sprintAudio.volume = Mathf.Max(sprintAudio.volume - .01f, 0f);

        if (timeSprinting &gt; 2f)
        {
            //BUTT TO outtro sprint audio clip if constant sprint clip is playing
            if (sprintAudio.volume &gt; 0f && !endSprintAudio.isPlaying && CanSprint)
            {
                endSprintAudio.Play();
            }
            //Reset for next sprint audio trigger
            else if (endSprintAudio.volume &gt;= 1f)
                timeSprinting = 0f;
                
            endSprintAudio.volume = Mathf.Min(endSprintAudio.volume + .005f, 1f);
        }
        Walk(WalkSpeed); //Normal Movement
    }
    
    //Trigger sound event for enemies to hear
    if (CurrentSpeed &gt;= WalkSpeed / 1.5f)
        SoundObjectManager.NotifyPlayerSoundTriggered(
        gameObject, WalkSoundRange);
}
</pre>
                           
              <div class ="content inner pad top-10 btm-10">
                Here is a section of code displaying the vertical look. I have a Utils class, which has a function to clamp the euler angles of a rotation. Currently, the normal vertical angle is set to 75&deg;, sprint is set to 30&deg;:
              </div>
                  
                  <pre class="content-block prettyprint lang-cs linenums:126 code-snippet ">
internal void UpdateVerticalLook()
{
    //Get the next intended angle
    float verticalAngle = cameraTargetSwivel.eulerAngles.x + (vertLookSpeed * controller.InputModule.CamSensitivity);

    //Clamp vertical angle between next angle and +-current angle
    Utils.ClampAngle(ref verticalAngle, -currentAngleView, currentAngleView);

    //Check if joystick is not moving or vertical look is close to hitting the max look angle bounds
    if (Mathf.Abs(controller.Look.x) &lt;= Mathf.Epsilon)
    {
        vertLookSpeed = Mathf.MoveTowards(vertLookSpeed, 0f, controller.InputModule.CamLookDecel * Time.deltaTime);
    }
    else if ((vertLookSpeed &gt;= 0 && controller.Look.x &gt; 0) ||
        (vertLookSpeed &lt;= 0 && controller.Look.x &lt; 0))
        vertLookSpeed += controller.Look.x * 
        controller.InputModule.CamLookAccel * 
        Time.deltaTime;
    else
        vertLookSpeed = controller.Look.x *
        controller.InputModule.CamLookAccel * 
        Time.deltaTime;

    //Clamp the current speed to +-max speed
    vertLookSpeed = Mathf.Clamp(
        vertLookSpeed, 
        -CurrentLookSpeedClamp, 
        CurrentLookSpeedClamp);

    //Set the X angle (up/down swivel) to the current look posigion
    cameraTargetSwivel.eulerAngles = new Vector3(
        verticalAngle,
        cameraTargetSwivel.eulerAngles.y,
        cameraTargetSwivel.eulerAngles.z);
}

</pre>
                                <div class="content pad top-10"></div>

              <!-- //PLAYER CONTROLLER CODE SAMPLE -->
              </div>
              <button class="collapse-button" data-toggle="collapse" href="#mfd-collapse" role="button" aria-expanded="true" aria-controls="mfd-collapse">
                                    <div class="collapse-button-content">
                                        Code: Multi-Function Display <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
          </button>
              <div class ="content pad btm-5"></div>
              <div class="collapse collapse-content-inner" id="mfd-collapse">
                  <div class ="content inner pad vt-10">
                      Early in preproduction, we decided that in order to give the player a fighting chance, he/she would be given a device that would have several functions, and would be upgradable over the course of the game. We really wanted a radar, and traditional to the genre, a battery-powered flashlight. We packaged it all in a single military device called the Multi-Function-Display (MFD).
                  </div>
                  
                  <div class ="content inner pad top-5 btm-5">
                      This is the abstract class MFDMode, slotted into the MultiFunctionDisplay:
                  </div>
                  <pre class="content-block prettyprint linenums:9 code-snippet">
                  
namespace MFD.Modes
{
    public abstract class MFDMode : MonoBehaviour
    {
        internal float changeModeCooldown = 0.25f;
        internal float currentChangeModeTime = 0.25f;
        internal abstract float BatteryDrain { get; }
        internal abstract string ModeName { get; }
        int currentAbilityIndex = 0;
        protected internal IMFDAbility CurrentAbility { get; protected set; }
        internal bool HasAbilities => Abilities.Count > 0;
        protected List&lt;IMFDAbility&gt; Abilities { get; set; }

        public void Install(IMFDAbility ability, MultiFunctionDisplay mFD)
        {
            Abilities.Add(ability); //Add ability to list
            Abilities[Abilities.Count - 1].Connect(mFD);    //Connect required components from MFD to ability

            //If no abilities have been installed yet, automatically set incoming ability as Current
            if (CurrentAbility.GetType() == typeof(EmptyMFDAbility))  
            {
                CurrentAbility = Abilities[currentAbilityIndex = (Abilities.Count - 1)];

                //Check if this mode is the current active mode before setting ability in MFD
                if (mFD.CurrentMode.GetType() == GetType())
                    mFD.SetAbility();
            }
        }

        internal virtual void ActivateAbility(MultiFunctionDisplay mFD) => CurrentAbility.Activate(mFD);

        internal virtual void Run(IInputModule inputModule, MultiFunctionDisplay mFD)
        {
            //Ability has been added to mode
            if(Abilities.Count &gt; 0)
            {
                //Check input for ability swapping
                TryChangeAbility(mFD, inputModule.ChangeAbility);
                CurrentAbility.Run(mFD);    //Run ability core functions
            }
        }

        protected void TryChangeAbility(MultiFunctionDisplay mFD, int direction)
        {
            currentChangeModeTime -= Time.deltaTime;

            //Checks if ability axis has been moved left or right
            if (direction == 0 || Abilities.Count == 0 || currentChangeModeTime &gt; 0) return;
            
            switch (direction)
            {
                case 1:
                    //Ability index sets to 0 if direction moves past ability count
                    currentAbilityIndex = currentAbilityIndex == 0 ? 
                        Abilities.Count - 1 : currentAbilityIndex - 1;
                    break;
                case -1:
                    //Ability index sets to count - 1if direction moves below 0
                    currentAbilityIndex = currentAbilityIndex == Abilities.Count - 1 ?
                        0 : currentAbilityIndex + 1;
                    break;
            }

            Off();  //Disable exited mode
            CurrentAbility = Abilities[currentAbilityIndex]; //Set ability   
            On();   //Enable entered mode

            mFD.SetAbility();   //Setup ability in MFD
            currentChangeModeTime = changeModeCooldown; //Reset cooldown
        }

        internal virtual void On() => CurrentAbility.On();
        internal virtual void Off() => CurrentAbility.Off();
    }
}

</pre>
                  
                  <div class ="content inner pad top-20  btm-5">
                    Here is the interface for the mode abilities:
                  </div>
                  <!-- //PLAYER CONTROLLER CODE SAMPLE -->
                  <pre class="prettyprint lang-js linenums:4 code-snippet">
using Entities.Player;
using System.Collections;

namespace MFD.Abilities
{
    public interface IMFDAbility
    {
        string AbilityName { get; }     //Display name on device
        float BatteryDrain { get; }     //Battery usage while selected
        bool IsOn { get; }
        bool CanUse(MultiFunctionDisplay mFD);  //Ability check
        void Run(MultiFunctionDisplay mFD);     //Constant update when ability is selected
        void Activate(MultiFunctionDisplay mFD);    //Use ability
        void On();  //Initialize before Running
        void Off(); //Initialize before Running another ability

        //Pass all variables needed from MFD on install
        void Connect(MultiFunctionDisplay mFD);
    }
}
</pre>             
                        
                  <div class="content pad top-10"></div>

              <!-- //PLAYER CONTROLLER CODE SAMPLE -->
              </div>
              
          </div>
                                 </div>
                             </div>
                             <!-- //PLAYER COMPONENTS COLLAPSE -->                             
                             </div>
    
                             <button class=" collapse-button" id="interaction-systems-button" type="button" data-toggle="collapse" data-target="#interaction-systems"
            aria-expanded="true" aria-controls="interaction-systems">
                                 <div class="collapse-button-content">
                                     Interaction & IK Systems <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/>
                                 </div>
                             </button>
                             <div id="interaction-systems" class="collapse" aria-labelledby="interaction-systems-button"
      data-parent="#player-components-button">
      <div class="card-body collapse-content">
              <div class="content pad vt-10">A feature we wanted to get into the game was a deep interaction system. In the initial prototype, the interactions were un-animated, everything interacted with would do its job, independent of the player's model rig. </div>
              <div class ="content pad btm-10">
            <video muted autoplay loop>
                <source src="videos/aberrant-ik-video.mp4" type="video/mp4"/>
              </video>
              </div>
              <div class= "content pad vt-10"> In later iterations, a new interface layer was implemented in addition to the interface that was being used to trigger interactions. With the modular code, It took minutes to add new interactable objects.
              </div>
          <div class ="content-block">
          <button class=" collapse-button" data-toggle="collapse" href="#ik-code-collapse" role="button" aria-expanded="true" aria-controls="ik-code-collapse">
              <div class="collapse-button-content">
              Code: Interaction System <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
          </button>
              <div class ="content pad btm-5"></div>
                            
          <div class="collapse collapse-content-inner" id="ik-code-collapse">
              <div class ="content inner pad top-10 btm-5">
              The Run function in InteractionController.cs (the core of all player-based interactions): </div>
              <pre class="prettyprint lang-cs linenums:71 code-snippet">
internal void Run(PlayerController pC, Vector3 position, Vector3 forward)
{
    //Deactivate prior to trying to get interactable
    if(CurrentInteractable != null)
        CurrentInteractable.Deactivate(pC);

    RaycastHit hit;

    //Tries to get interactable with a raycast
    if(Utils.TryGettingInteractable&lt;IInteractable&gt;
        (ref CurrentInteractable, out hit, position, forward,
        pC.ExclusionLayerMask, interactionDistance))
    {
        CurrentInteractable.Run(pC, hit.point); //Run the found interactable

        //Slow down cursor if interactable is labeled soft target
        if (CurrentInteractable.IsSoftTarget)
            OnChangeLookSpeedByInteraction(
                ref cameraMovement.CurrentLookSpeedClamp,
                cameraMovement.InteractionLookSpeedClamp, Time.deltaTime * 20f);
        else
            //Normal speed if not soft target
            OnChangeLookSpeedByInteraction(
                ref cameraMovement.CurrentLookSpeedClamp,
                cameraMovement.MaxLookSpeedClamp, Time.deltaTime * 5f);

        //If player input uses interactable
        if (pC.InputModule.IsInteracting)
        {
            CurrentInteractable.Deactivate(pC); //Deactivate interactable before trying to use
            TryInteracting(pC, position, forward); //Activate interactable
        }   
        //Specific code to Door Interactable for peek function
        else if (pC.InputModule.IsInteractingAlternate && 
            CurrentInteractable.GetType() == typeof(DoorInteractable))
        {
            CurrentInteractable.Deactivate(pC); 
            TryInteracting(pC, position, forward, true);
        }
    }
    else
    {
        //Send to default look speed if interactable not found
        OnChangeLookSpeedByInteraction(
            ref cameraMovement.CurrentLookSpeedClamp,
            cameraMovement.MaxLookSpeedClamp, Time.deltaTime * 5f);
    }
}
</pre>
          </div>
              
              <div class="collapse collapse-content-inner" id="ik-code-collapse">
              <div class ="content inner pad top-20 btm-5">
              The Interaction interface class (sans-IK functionality): </div>
              <pre class="prettyprint lang-cs linenums:71 code-snippet">
namespace World.Interactables
{
    public enum InteractableTextAxis { X, Y, Z }    //World Text alignment

    public interface IInteractable
    {
        void Activate(PlayerController pC, InteractionController iC, bool isAlternate); //Use Interactable
        void Run(PlayerController pC, Vector3 rayHitPoint);     //Runs when focused on
        void RunOnCommand(PlayerController pC, InteractionController iC);   //Run in specific contexts
        void Deactivate(PlayerController pC);   //Called when leaving focus
        bool IsSoftTarget { get; }  //Slows camera speed when true
    }
}
</pre>
                  <div class="content pad top-10"></div>

          </div>
                                 </div>
                             </div>     
                                                          </div>

                         
                             <!--LEVEL DESIGN BUTTON-->
                             <button class="collapse-button" id="level-design-button" type="button" data-toggle="collapse" data-target="#level-design-collapse"
            aria-expanded="true" aria-controls="level-design-collapse">
                                 <div class ="collapse-button-content"> Level Design & Setting a Mood<img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                             </button>
                             <!--//LEVEL DESIGN BUTTON-->
                             
                             <!--LEVEL DESIGN CONTENT-->
                             <div class="collapse collapse-content" id="level-design-collapse">
                                 <div id="carouselExampleIndicators" class="carousel slide"  data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="images/aberrant_level_design1.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block " >
    <h3 class="cpntent">Make-Shift Infirmary</h3>
    <p>...</p>
    </div>
      </div>
          <div class="carousel-item">
      <img class="d-block img-fluid" src="images/aberrant_level_design2.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block" >
    <h3 class="content">Lockdown Alert</h3>
    <p></p>
    </div>
      </div>
        <div class="carousel-item">
      <img class="d-block img-fluid" src="images/aberrant_level_design4.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block" >
    <h3 class="content">Maid's Room</h3>
    <p>...</p>
    </div>
      </div>
      <div class="carousel-item">
      <img class="d-block img-fluid" src="images/aberrant_level_design5.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block" >
    <h3 class="content">The Gym</h3>
    <p>...</p>
    </div>
      </div>
        <div class="carousel-item">
      <img class="d-block img-fluid" src="images/aberrant_level_design7.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block" >
    <h3 class="content">Master Bedroom</h3>
    <p>...</p>
    </div>
      </div>
              <div class="carousel-item">
      <img class="d-block img-fluid" src="images/aberrant_level_design8.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block" >
    <h3 class="content">Make-Shift Engineering</h3>
    <p>...</p>
    </div>
      </div>
                    <div class="carousel-item">
      <img class="d-block img-fluid" src="images/aberrant_level_design9.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block" >
    <h3 class="content">Kitchen</h3>
    <p>...</p>
    </div>
      </div>
                          <div class="carousel-item">
      <img class="d-block img-fluid" src="images/aberrant_level_design10.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block" >
    <h3 class="content">Abandoned Poker Game</h3>
    <p>...</p>
    </div>
      </div>
                                <div class="carousel-item">
      <img class="d-block img-fluid" src="images/aberrant_level_design11.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block" >
    </div>
      </div>
                                      <div class="carousel-item">
      <img class="d-block img-fluid" src="images/aberrant_level_design12.PNG" alt="First slide">
        <div class="carousel-caption d-none d-md-block" >
    </div>
      </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
                             </div>
                             
                             
                             <!--//LEVEL DESIGN CONTENT-->
                             
                             <!--UI BUTTON-->
                             <button class="collapse-button" id="ui-button" type="button" data-toggle="collapse" data-target="#ui-collapse"
            aria-expanded="true" aria-controls="level-design-collapse">
                                 <div class ="collapse-button-content"> Designing a Clean UI in World Space<img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                             </button>
                             <!--//UI BUTTON-->
                             
                             <!--UI CONTENT-->
                             <div class="collapse collapse-content" id="ui-collapse"><div class ="content pad vt-10">
                              I was also in charge of designing and programming all UI. Our goal early on was immersive gameplay. For us, this required a way to convey all in-game information without a screen-space User interface. With 2 exceptions, all player information is conveyed on the MFD that the player holds. Below are some video examples of my UI work
                             </div>
                                 
                                 <!--<button class=" collapse-button " data-toggle="collapse" href="#pause-menu-ui-collapse" role="button" aria-expanded="true" aria-controls="pause-menu-ui-collapse">
                  <div class="collapse-button-content">
                Video-Clip: Pause Menu UI  <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                    </button>
                                 <div class="collapse collapse-content" id="pause-menu-ui-collapse">
                                 <div class="content pad btm-10">
                                 Pause Menu UI was probably the most time-consuming in terms of Designing elements. The 2d assets were designed in Photoshop using splotch brushes, font types, and primitive shapes </div>
                             <div class ="content pad btm-10">
            <video muted autoplay loop>
                <source src="videos/ui_menu.mp4" type="video/mp4"/>
              </video>
              </div>
                                 
                                 </div>-->
                             
                             <div class="content pad btm-10"> The Bio-Scanner UI uses masks to keep the ping ui bound to the MFD screen. Also displayed in this video is swapping modes and abilities, which updates the MFD images and text. The text also has a function that chooses random characters in fast speed...just for a bit of aesthetic polish </div>
                             <div class ="content pad btm-10">
            <video muted autoplay loop>
                <source src="videos/ui_bioscanner.mp4" type="video/mp4"/>
              </video>
              </div>

                                 <button class=" collapse-button " data-toggle="collapse" href="#pause-menu-ui-collapse" role="button" aria-expanded="true" aria-controls="pause-menu-ui-collapse">
                  <div class="collapse-button-content">
                Code: Generate Text String  <img class = "dropdown-icon" src="images/content_dropdown_triangle.png"/></div>
                    </button>
                                 <div class="collapse collapse-content-inner" id="pause-menu-ui-collapse">
                                     <div class="content pad vt-10">Code from the Utils class demonstrating how the text is generated with procedural printing</div>
                                     <pre class="content-block prettyprint lang-cs linenums:323 code-snippet ">
                                     
//*******************************************************//
#region Text Effects

public static IEnumerator GenerateString(Text text, string generateGoal, int maxMutations, AudioSource source = null)
{
    System.Random random = new System.Random();
    int pos = 0;
    text.text = "";

    while (text.text != generateGoal) 
    {
        text.text += " ";
        char[] randomChars = text.text.ToCharArray(); //Separate chars

        //Set random iterations amount per char
        int mutationCount = random.Next(1, maxMutations);

        for (int i = pos; i &lt; text.text.Length; i++)
        {
            for (int j = 0; j &lt; mutationCount; j++)
            {
                yield return new WaitForEndOfFrame();  

                //Assign a temp random character
                randomChars[i] = (char)random.Next('a', 'z'); 

                //Display current state of generation in-game
                text.text = new string(randomChars); 
            }
        }
        randomChars[pos] = generateGoal.ToCharArray()[pos];
        pos++;    //Next character in array

        //Play audio clip
        if (source != null &amp;&amp; !source.isPlaying)
            source.Play();

        //Current state, only displayed once mutations of current index are complete
        text.text = new string(randomChars);
    }
}

public static IEnumerator OnWriteTextOverTime(Text text, string goal, float time)
{
    float resetTime = time;
    char[] goalAsChars = goal.ToArray();

    for (int i = 0; i &lt; goalAsChars.Length;) {

        //Count down and compare
        if ((time -= Time.deltaTime) &lt;= 0)
        {
            time = resetTime;   //Set new timer
            text.text += goalAsChars[i]; //Add next index to text
            i++;    //Go to next letter when timer expires
        }
        yield return new WaitForEndOfFrame();
    }
}

//Add a '0' to text to keep text 2 places
public static void UpdateCountText(Text text, int count) =>
    text.text = count &lt; 10 ?
        "0" + count.ToString() : count.ToString();

#endregion
//*******************************************************//

</pre>
                                     
                                 </div>
                             <div class="content pad top-20 btm-10">
                                 Pause Menu UI was probably the most time-consuming in terms of Designing elements. The 2d assets were designed in Photoshop using splotch brushes, font types, and primitive shapes </div>
                             <div class ="content pad btm-10">
            <video muted autoplay loop>
                <source src="videos/ui_menu.mp4" type="video/mp4"/>
              </video>
              </div><div class="content pad btm-10"> One of the exceptions to no in-game screen-space UI is the health indicator, which is a surrounding blood effect. As health gets low, the blood amount will increase. When player health is less than 15%, health the blood effect will contract and release for 10 seconds, before recovering back to 25%. All in-game audio are also distorted through audio filters, and a heart-beat audio-clip plays with contractions </div>
                             <div class ="content pad btm-10">
            <video muted autoplay loop>
                <source src="videos/ui_lowhealth.mp4" type="video/mp4"/>
              </video>
              </div><div class="content pad btm-10"> This is the "OverCharge" UI for the Overcharge Ability. When the player hovers over an object that implements IOverchargeInteractable, the UI provides feedback, with an animated ring on the mid screen, accompanied by a ping audio clip </div>
                             <div class ="content pad btm-10">
            <video muted autoplay loop>
                <source src="videos/ui-overcharge.mp4" type="video/mp4"/>
              </video>
              </div></div>
                             
                             
                             <!--//UI CONTENT-->

                             
                     </div>
                  </div>
               </div>
            </div>
         </div>
          </div>
          </div>
          </div>
<div id="nav-container" style="display:block; transform: translateY(0px);">
            <div id="nav-background"></div>
        <div class="container-fluid">
            <div class="row">
                <div class="menu-item col-xs-5 col-sm-4 col-lg-3 col-xl-2">
                    <div id="name">
                        <span>Joseph <b>Sierejko</b></span></div>
                </div>
                <div class="col-sm-8 col-md-7 col-lg-8" >
                <div id = "button-menu" style="overflow-x: hidden;">
                    <button class = "nav-item" id = "project-main-button" data-target-element ="#project-header"><span><img id="project-img" src="images/project_png.png"/>PROJECTS</span></button>
<!--                    <button class = "nav-item" type = "button" id = "design-main-button" data-target-element = "#design-header"><img id="contact-img" src="images/graphic_design_png.png"/>Graphic Design</button>-->
                    <button class = "nav-item" type = "button" id = "about-main-button" data-target-element ="#about-header"><img id="about-img" src="images/about_png.png"/>ABOUT</button>
                    <button class = "nav-item" type = "button" id = "contact-main-button" data-target-element ="#contact-header" ><img id="contact-img" src="images/contact_png.png"/>CONTACT</button>
                    <button class = "nav-item" type = "button" id = "resume-main-button" ><img id="about-img" src="images/resume_png.png"/>RÃ‰SUMÃ‰</button>
                </div>
                </div>
            </div>
            </div>
                            <button id="hamburger-button" onclick="openNav()">â˜°</button>
            </div>
             </body>
      <footer class="footer">
         <p>&copy; 2020 Joseph M Sierejko</p>
         <p><i>Website Designed and Developed by Me</i></p>
      </footer>
   </html>